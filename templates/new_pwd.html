   <!DOCTYPE html>
   <html lang="en">
   <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>new_pwd</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        *{
         box-sizing: border-box;
         margin:0;

        }
        body{
            
            background:url('https://c0.wallpaperflare.com/preview/519/791/635/concept-development-device-flat.jpg');
            background-repeat: no-repeat;
            background-size: 100% 100vh;
        }
        main{
            font-family: Arial, sans-serif;
            /* background-color: #dbecdf; */
            display: flex;
            justify-content: center;
            /* align-items: center; */
            height: 80vh; 
            
        }
        /* .container {
            background: #ececea;
        
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0.4, 0.3, 0.2, 0.5);
            width: 90%;
            max-width: 400px;
        } */
        h1 {
            /* text-align: center; */
            margin-bottom: 20px;
            color: #333;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        input[type="password"] {
            width: 90%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #909471;
            border-radius: 5px;
            box-shadow: 0 3px 5px rgba(0.4,0.3,0.3,0.5);
        }
        button {
            width: 70%;
            padding: 10px;
            background:transparent;
            border:1px solid #fff;
          
            box-shadow: 0 3px 5px rgba(0.4,0.3,0.3,0.5);
            margin-bottom: 0.3em;
            border-radius: 7px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
            color: white; 
        }
    </style>
</head>
{% with messages = get_flashed_messages()%}
{% if messages%}
    {% for message in messages%}
   <center> <p>{{message}}</p></center>
    {%endfor%}
    {%endif%}
    {%endwith%}
<body>
{% include 'header.html' %}
    <main>
    <div class="container">
        <div class="container mt-5">
            <div class="row d-flex justify-content-md-end">
                <div class="col-12 mt-5 col-md-5">
                    <!-- <form method="post"> -->
        <form action="{{url_for('new_pwd',email=email)}}" method="post" onsubmit=" return validatePassword()">
                    

                        <h1 class="mb-3" style="margin-right: 20px;"> Set New Password</h1>
                        <div class="mb-3">
                            <label for="new-password">New Password</label>
                            <div style="position: relative; width: 360px;">
                                <input type="password" id="password"  name="new-password" placeholder="new password" minlength="8"
                                 style="width: 100%; padding-right: 40px; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                                <span id="togglePassword" style="position: absolute; top: 30%; right: 10px; transform: translateY(-50%); cursor: pointer;">
                                    üëÅÔ∏è
                                </span>
                            </div>  
                            <!-- <label for="confirm-password">Confirm Password</label> -->

                          <!-- <label for="inputpassword" class="form-label">New Password:</label> -->
            <!-- <input type="text" id="inputpassword" name="npassword" class="form-control" aria-describedby="passwordHelpBlock"> -->
                       </div>
                       <div class="mb-3">
                        <label for="inputpassword" class="form-label">Comform Password:</label>
          <!-- <input type="text" id="inputpassword" name="cpassword" class="form-control" aria-describedby="passwordHelpBlock"> -->
          <div style="position: relative; width: 360px;">
            <input type="password" id="password"  name="conform-password" placeholder="conform password" minlength="8"
             style="width: 100%; padding-right: 40px; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
            <span id="togglePassword" style="position: absolute; top: 30%; right: 10px; transform: translateY(-50%); cursor: pointer;">
                üëÅÔ∏è
            </span>
        </div>  
        <input type="hidden" name="email" value="{{email}}"> 
        <div  class="mb-3"><br>
        <button type="submit">Submit</button>
        </div>
    </form>
</div>
                     <!-- </div>
                  
                      <button class="btn btn-warning">Submit</button>
                   </div>
                </form>
               </div> --> 
            </div>
        </div>
        
       
           
            <!-- <input type="password" id="new-password" name="new-password" minlength="8" required> -->
            

            <!-- <input type="password" id="conform-password" name="conform-password" minlength="8" required> -->
            
</main>
<script>
    function validatePassword() {
      const newPassword = document.getElementById("new-password").value;
      const confirmPassword = document.getElementById("confirm-password").value;
  
      if (newPassword.length <8) {
        alert("New Password must be more or equal to 8 characters long.");
        return false;
      }
  
      if (newPassword !== confirmPassword) {
        alert("Passwords do not match.");
        return false;
      }
  
      alert("Password is valid and confirmed.");
      return true;
    }
    
        const togglePassword = document.querySelector("#togglePassword");
        const passwordField = document.querySelector("#password");
    
        togglePassword.addEventListener("click", function () {
            // Toggle the type attribute
            const type = passwordField.type === "password" ? "text" : "password";
            passwordField.type = type;
    
            // Change the icon (optional, use emoji or font icons)
            this.textContent = type === "password" ? "üëÅÔ∏è" : "üôà";
        });

</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" 
crossorigin="anonymous"></script>
   
    {% include 'footer.html' %}
</body>
</html>
